@page "/ratelist"

@using System.Collections.Generic
@inject BillService BillService

<div style="border-left:1px solid black; padding:2vw; width: 30vw;">
    <h3 style="display: flex; align-items:center; justify-content:center; padding-bottom:2vh; font-weight:bold; -webkit-text-stroke:1px black; color:darkgreen;">
        Rate List
    </h3>
    <hr />

    <div class="rate-list-container" style="display: flex; flex-wrap: wrap; gap: 10px;">
        @foreach (var item in RateItems)
        {
            <div class="rate-item-card" style="flex: 1 1 calc(33% - 10px); border: 1px solid #ddd; border-radius: 8px; padding: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); cursor: pointer;" @onclick="() => AddToBill(item)">
                <div class="rate-item-image" style="text-align: center;">
                    @if (!string.IsNullOrEmpty(item.ImageUrl))
                    {
                        <img src="@item.ImageUrl" alt="@item.Name" style="max-width: 100%; height: auto;" />
                    }
                </div>
                <div class="rate-item-details" style="text-align: center; margin-top: 10px;">
                    <span style="display: block; font-weight: bold;">@item.Name</span>
                    <span style="display: block; color: darkgreen;">@item.Price</span>
                </div>
            </div>
        }
    </div>
</div>

@code {
    public List<RateItem> RateItems { get; set; } = new List<RateItem>
    {
        new RateItem { Name = "Haircut", Price = 200, ImageUrl = "/images/haircut_short.png" },
        new RateItem { Name = "Shave", Price = 150, ImageUrl = "/images/shave.png" },
        new RateItem { Name = "Beard Trim", Price = 100, ImageUrl = "/images/shavep.png" },
        new RateItem { Name = "Hair Coloring", Price = 500, ImageUrl = "/images/hair_coloring.jpg" },
        new RateItem { Name = "Hair Styling", Price = 250, ImageUrl = "/images/hair_styling.jpg" },
        new RateItem { Name = "Facial", Price = 400, ImageUrl = "/images/facial.jpg" },
        new RateItem { Name = "Manicure", Price = 350, ImageUrl = "/images/manicure.jpg" },
        new RateItem { Name = "Pedicure", Price = 400, ImageUrl = "/images/pedicure.jpg" },
        new RateItem { Name = "Head Massage", Price = 200, ImageUrl = "/images/head_massage.jpg" }
    };

    private void AddToBill(RateItem item)
    {
        BillService.AddItem(item);
    }

    public class RateItem
    {
        public string Name { get; set; } = string.Empty;
        public decimal Price { get; set; }
        public string ImageUrl { get; set; } = string.Empty;
    }
}
